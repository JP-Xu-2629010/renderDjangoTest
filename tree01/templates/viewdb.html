<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ICT4D_Group10</title>
    <script type="text/javascript">
        function goToCase(caseId) {
            window.location.href = '/case/' + caseId;
        }
    </script>
</head>
<body>
    <h1>User Cases</h1>
    <h2>Click on the corresponding row to upload inspection results</h2>
    <table border="1">
        <tr>
            <th>timestamp</th>
            <th>tree_type</th>
            <th>user_quantity</th>
            <th>actual_quantity</th>
            <th>location</th>
            <th>audio</th>
            <th>checked</th>
        </tr>
        {% for case in cases %}
        <tr onclick="goToCase({{ case.id }})">
            <td>{{ case.timestamp }}</td>
            <td>{{ case.tree_type }}</td>
            <td>{{ case.user_quantity }}</td>
            <td>{{ case.actual_quantity }}</td>
            <td>{{ case.location }}</td>
            <td>
                {% if case.audio_file %}
                    <audio controls>
                        <source src="{{ case.audio_file.url }}" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>
                {% else %}
                    <button type="button">Play recording</button>
                {% endif %}
            </td>
            <td>{{ case.checked }}</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>

